<div class="area-chart-wrapper">
  <div
    #chartContainer
    class="chart-container"
    role="figure"
    [attr.aria-label]="
      hasValidData()
        ? 'Interactive area chart showing time series data'
        : 'Area chart with no data available'
    "
  ></div>

  <!-- Tooltip (only shown when we have valid data and are hovering) -->
  @if (hasValidData() && tooltipVisible()) {
  <div
    #tooltip
    class="tooltip"
    [class.tooltip-left]="tooltipOnLeft()"
    role="tooltip"
    aria-live="polite"
    [style.left.px]="tooltipPosition().x"
    [style.top.px]="tooltipPosition().y"
    [class.tooltip-animated]="config().tooltipAnimation"
  >
    <div class="tooltip-header">{{ tooltipDate() }}</div>
    <div class="tooltip-content">
      @for (series of config().series; track series.key) {
      <div class="tooltip-row">
        <span class="tooltip-dot" [style.background-color]="series.color"></span>
        <span class="tooltip-label">{{ series.name }}</span>
        <span class="tooltip-value">{{ getSeriesValue(series.key) }}</span>
      </div>
      }
    </div>
  </div>
  }

  <!-- Legend (only shown when we have valid data) -->
  @if (hasValidData() && config().showLegend) {
  <div class="legend" role="list" aria-label="Chart legend">
    @for (series of config().series; track series.key) {
    <div class="legend-item" role="listitem">
      <span class="legend-dot" [style.background-color]="series.color"></span>
      <span class="legend-label">{{ series.name }}</span>
    </div>
    }
  </div>
  }
</div>
